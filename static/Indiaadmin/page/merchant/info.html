
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>用户列表</title>
    <link rel="stylesheet" href="../../assets/libs/layui/css/layui.css"/>
    <link rel="stylesheet" href="../../assets/module/admin.css?v=318"/>
    <script src="../../assets/js/moment.js"></script>

    <style>

            .currSerachBtn{
                box-shadow: 0 15px 18px -6px rgb(45 140 240 / 65%) !important;
            }

            .currReloadBtn{
                box-shadow: 0 15px 18px -6px rgb(146 109 222 / 65%) !important;
            }

            .layui-table-cell{
                height:46px;
                line-height: 46px;

                /*height: auto ;*/
                /*white-space: normal;*/
                /*word-wrap:break-word;*/
            }





    </style>


    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<!-- 正文开始 -->
<div class="layui-fluid">
<!--    <div class="layui-card">-->
<!--        <div class="layui-card-body">-->

<!--            &lt;!&ndash; 表格工具栏 &ndash;&gt;-->
<!--            <form class="layui-form toolbar">-->
<!--                <div class="layui-form-item">-->
<!--                    <div class="layui-inline">&emsp;-->
<!--&lt;!&ndash;                        <button class="layui-btn icon-btn currSerachBtn" lay-filter="userTbSearch" lay-submit >&ndash;&gt;-->
<!--&lt;!&ndash;                            <i class="layui-icon">&#xe615;</i>搜索&ndash;&gt;-->
<!--&lt;!&ndash;                        </button>&ndash;&gt;-->
<!--                        <button class="layui-btn icon-btn currReloadBtn" lay-filter="reloadData" lay-submit style="background-color: #926dde;border-color: #926dde;">-->
<!--                            <i class="layui-icon layui-icon-refresh"></i>刷新数据-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </form>-->

<!--            &lt;!&ndash; 数据表格 &ndash;&gt;-->
<!--            <table id="userTable" lay-filter="userTable" style="margin-top:10px"></table>-->


<!--        </div>-->
    <div class="layui-col-md12 layui-col-sm6">
        <div class="layui-card">
            <div class="layui-card-header">基本信息</div>
            <div class="layui-card-body">
                <table class="layui-table layui-text">
                    <colgroup>
                        <col width="180">
                        <col>
                    </colgroup>
                    <tbody>
                        <tr>
                            <td>商户号</td>
                            <td id="MerchantNum">

                            </td>
                        </tr>
                        <tr>
                            <td>秘钥</td>
                            <td id="ApiKey"></td>
                        </tr>
                        <tr>
                            <td>对接地址</td>
                            <td id="Gateway">

                            </td>
                        </tr>
                        <tr>
                            <td>白名单</td>
                            <td id="WhiteIps">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="layui-col-md12" style="margin-top: 10px">
        <div class="layui-card">
            <div class="layui-card-header">代收/代付通道信息</div>
            <div class="layui-card-body">
                <table class="layui-table" lay-skin="line">
                    <colgroup>
                        <col />
                        <col/>
                        <col/>
                        <col/>
                        <col/>
                        <col/>
                        <col />
                    </colgroup>
                    <thead>
                    <tr>
                        <td align="center">ID</td>
                        <td align="center">通道ID</td>
                        <td align="center">通道名称</td>
                        <td align="center">通道币种</td>
                        <td align="center">通道费率</td>
                        <td align="center">通道状态</td>
                        <td align="center">通道类型</td>
                    </tr>
                    </thead>
                    <tbody id="tablePay">


                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>


<!-- js部分 -->
<script type="text/javascript" src="../../assets/libs/layui/layui.js"></script>
<script type="text/javascript" src="../../assets/js/common.js?v=318"></script>

<script type="text/javascript" src="../../assets/js/jquery.min.js"></script>
<script type="text/javascript" src="../../assets/js/jquery.cookie.min.js"></script>
<script type="text/javascript" src="../../assets/js/config.url.js"></script>


<!--数据表格操作工具栏-->
<script type="text/html" id="orderListBar">
    <a class="layui-btn layui-btn-sm layui-btn-radius" lay-event="callbacksuccess" style="background-color: #ffba00"><i class="layui-icon layui-icon-ok"></i>回调成功</a>
    <a class="layui-btn layui-btn-sm layui-btn-radius " lay-event="deleteBtn" style="background-color: #f96868 "><i class="layui-icon layui-icon-delete"></i>详情</a>
</script>

<script>

    var mybck= $.cookie('tokenMyb_mer');
    //alert(document.cookie);
    // console.log(mybck)
    if(mybck == "" || mybck == null){

        window.top.location.href="../../login.html";

    }else{

        var jsondata ;
        var bankListArr = []

        var currDateVal
        var currDateVal_end
        var local_storage_key = 'pay_order_list_t_list';
        layui.use(['layer', 'form', 'table', 'util', 'admin', 'xmSelect','notice','treeTable','laydate'], function () {
            var $ = layui.jquery;
            var layer = layui.layer;
            var form = layui.form;
            var table = layui.table;
            var util = layui.util;
            var admin = layui.admin;
            var xmSelect = layui.xmSelect;
            var notice = layui.notice;
            var treeTable = layui.treeTable
            var laydate = layui.laydate;


            //获取数据添加到下拉框中
            var param = {};
            // param.page = 1
            // param.limit = 3000

            $.ajax({
                url: global_requestAddress + global_requestAddress_js_getMe ,
                headers: {
                    "token": mybck
                },
                dataType: 'json',
                type: 'post',
                data: param,
                success: function (res) {
                    if (res.code === 200) {
                        var returnDataArray = res.result
                        $("#MerchantNum").text(returnDataArray.MerchantNum)
                        // <span className = "layui-badge"> 赤 < /span>
                        let ipsArr = returnDataArray.WhiteIps.split('@')
                        let ipsHtml = ""
                        ipsArr.forEach((item,index)=>{
                            if(index == 0){
                                ipsHtml = ipsHtml + '<span class="layui-badge" > ' + item + '</span>'
                            }else{
                                ipsHtml = ipsHtml + '<span class="layui-badge" style=\'margin-left: 10px\'> ' + item + '</span>'
                            }

                        })


                        $("#WhiteIps").append(ipsHtml)
                        $("#ApiKey").text(returnDataArray.ApiKey)
                        $("#Gateway").text(returnDataArray.Gateway)

                        let payCArr = returnDataArray.PayC
                        let paycHtml = ""

                        payCArr.forEach((item,index)=>{
                            let indexnum = index*1+1
                            paycHtml = paycHtml + " <tr>"
                            paycHtml = paycHtml + '<td align="center">'+indexnum+'</td>'
                            paycHtml = paycHtml + ' <td align="center">'+item.ID+'</td>'
                            paycHtml = paycHtml + ' <td align="center"><span class="layui-text"><a>'+item.ChannelName+'</a></span></td>'
                            paycHtml = paycHtml + ' <td align="center">'+item.Currency+'</td>'
                            paycHtml = paycHtml + ' <td align="center">'+item.Rate+'</td>'
                            if(item.Status === 1){
                                paycHtml = paycHtml + '<td align="center"><span class="layui-badge layui-bg-green">开启</span></td>'
                            }else{
                                paycHtml = paycHtml + '<td align="center"><span class="layui-badge layui-bg-black">关闭</span></td>'
                            }

                            if(item.Kinds === 1){
                                paycHtml = paycHtml + '<td align="center"><span class="layui-badge layui-bg-orange">代收</span></td>'
                            }else{
                                paycHtml = paycHtml + '<td align="center"><span class="layui-badge layui-bg-blue">代付</span></td>'
                            }
                        })

                        $("#tablePay").append(paycHtml)
                        // < tr >
                        // < td align = "center" > 1 < /td>
                        // <td align="center">1234</td>
                        // <td align="center"><span className="layui-text"><a>仓库管理系统</a></span></td>
                        // <td align="center">2020-03-01</td>
                        // <td align="center">2020-06-01</td>
                        // <td align="center"><span></span></td>
                        // <td></td></tr>

                        // tablePay
                    }
                }
            })




            // var log_login_request_param = {};
            // // log_login_request_param['kinds']= 1;
            // // log_login_request_param['token']= $.cookie('tokenMyb');
            // /* 渲染表格 */
            // var tableCols = tableSetCol(getTableCols(), local_storage_key);
            // var insTb = table.render({
            //     elem: '#userTable',
            //     url: global_requestAddress + global_requestAddress_js_getMe ,
            //     method: 'post',
            //     headers:{
            //         token:mybck
            //     },
            //     response: {
            //         statusCode: 200,
            //         dataName: 'result',
            //     },
            //     // toolbar: true,
            //     // defaultToolbar: ['filter'],
            //     // where:log_login_request_param,
            //     // toolbar: ['<p>',
            //     //     '<button lay-event="add" class="layui-btn layui-btn-sm icon-btn"><i class="layui-icon">&#xe654;</i>添加</button>&nbsp;',
            //     //     '<button lay-event="del" class="layui-btn layui-btn-sm layui-btn-danger icon-btn"><i class="layui-icon">&#xe640;</i>删除</button>',
            //     //     '</p>'].join(''),
            //     cellMinWidth: 100,
            //     page :  { //支持传入 laypage 组件的所有参数（某些参数除外，如：jump/elem） - 详见文档
            //         layout: ['limit', 'count', 'prev', 'page', 'next', 'skip'] //自定义分页布局
            //         //,curr: 5 //设定初始在第 5 页
            //         ,groups: 10 //只显示 1 个连续页码
            //         ,first: "首页" //不显示首页
            //         ,last: "尾页"//不显示尾页
            //     },
            //     height : "full-150",
            //     limit : 20,
            //     limits : [20,30,50,100],
            //     // id : "systemLog",
            //     cols:tableCols,
            //     done: function (res, curr, count) {
            //         $('tr').css({'background-color': '#fff', 'color': '#191a1c'});
            //
            //         tableDone(this.elem, insTb.config.cols[0], local_storage_key)
            //
            //         //重新渲染 固定写法
            //         form.render("select");
            //         // $(".layui-table-main tr").each(function (index, val) {
            //         //     $($(".layui-table-fixed-l .layui-table-body tbody tr")[index]).height($(val).height());
            //         //     $($(".layui-table-fixed-r .layui-table-body tbody tr")[index]).height($(val).height());
            //         // });
            //
            //     }
            // });
            //
            //
            // //layui表格渲染后，事件需要重新绑定，并记录下筛选信息于localStorage
            // function tableDone(elem, col, key){
            //     elem.next().find('[lay-event="LAYTABLE_COLS"]').click(function(e) {
            //         setTimeout(function() {
            //             layui.$(e.currentTarget).find('.layui-form-checkbox').click(function() {
            //                 var local_config = {};
            //                 for(var i = 0; i<=col.length-1; i++){
            //                     if(typeof col[i].field !== 'undefined'){
            //                         local_config[col[i].field] = col[i].hide ;
            //                     }
            //                 }
            //                 var saveColsConfig = {
            //                     key: 'local_config',
            //                     value: local_config
            //                 };
            //
            //                 // console.log("saveColsConfig",saveColsConfig)
            //                 layui.data(key, saveColsConfig);
            //             })
            //         }, 50);
            //     })
            // }
            //
            // //表格 头部数据函数封装
            // function getTableCols() {
            //     var col = [[
            //             // {type: 'checkbox'},
            //             {field: 'ID',title:'ID',sort: true,align:"center",width:70},
            //             {field: 'MerchantNum', title: '商家号',  sort: true,align:"center"},
            //             {field: 'MinMoney', title: '充值最小金额', sort: true,align:"center",width:180},
            //             {field: 'MaxMoney', title: '充值最大金额', sort: true,align:"center",width:120},
            //             {field: 'WhiteIps', title: '白名单',  sort: true,align:"center",width:130},
            //             {field: 'ApiKey', title: '秘钥', sort: true,align:"center"},
            //             {field: 'Kinds', title: '类型', sort: true,align:"center",width:120,templet:function(d){
            //                     if(d.Kinds == "1"){//1没有回调
            //                         return '<button class="layui-btn  layui-btn-sm" style="background-color: #465161;border-color: #465161;">'+'没有回调'+'</button>'
            //                     }else if(d.Kinds == "2"){// 2回调成功
            //                         return '<button class="layui-btn  layui-btn-sm" style="background-color: #33cabb;border-color: #33cabb;">'+'回调成功'+'</button>'
            //                     }else if(d.Kinds == "3"){//3回调失败
            //                         return '<button class="layui-btn  layui-btn-sm" style="background-color: #faa64b;border-color: #faa64b;">'+'回调失败'+'</button>'
            //                     }else{
            //                         return ''
            //                     }
            //                 }},
            //             {field: 'Status', title: '状态', sort: true,align:"center",templet:function(d){
            //
            //                     if(d.Status == "1"){//1等待支付
            //                         return '<button class="layui-btn  layui-btn-sm" style="background-color: #337ab7;border-color: #337ab7;">'+'等待支付'+'</button>'
            //                     }else if(d.Status == "2"){//2支付成功
            //                         return '<button class="layui-btn  layui-btn-sm" style="background-color: #28a745;border-color: #28a745;">'+'支付成功'+'</button>'
            //                     }else if(d.Status == "3"){// 3失败
            //                         return '<button class="layui-btn  layui-btn-sm" style="background-color: #993055;border-color: #993055;">'+'失败'+'</button>'
            //                     }else{
            //                         return ''
            //                     }
            //
            //                 }},
            //         {field: 'PayChannel', title: '支付渠道', sort: true,align:"center",width:180},
            //         {field: 'PaidChannel', title: '代付渠道', sort: true,align:"center",width:180},
            //         {field: 'LoginPassword', title: '登录秘钥', sort: true,align:"center"},
            //         {field: 'GoogleCode', title: '谷歌代码', sort: true,align:"center",width:180},
            //         {field: 'Token', title: 'Token', sort: true,align:"center",width:180},
            //         {field: 'Gateway', title: '回调', sort: true,align:"center"},
            //         {field: 'AllAmount', title: '账户余额', sort: true,align:"center",width:180},
            //         {field: 'AvailableAmount', title: '可用余额', sort: true,align:"center",width:180},
            //         {field: 'FreezeAmount', title: '冻结的金额', sort: true,align:"center",width:180},
            //         {field: 'CollectionCommission', title: '代收手续费', sort: true,align:"center",width:180},
            //         {field: 'PayCommission', title: '代付手续费用', sort: true,align:"center",width:180},
            //         {field: 'MinPay', title: '代付最小余额', sort: true,align:"center",width:180},
            //         {field: 'MaxPay', title: '代付最大余额', sort: true,align:"center",width:180},
            //
            //
            //
            //         {field: 'Created', title: '创建时间',align:"center",width:175, sort: true, templet: function (d) {
            //                     // return util.toDateString(d.Created* 1000);
            //                     return moment(d.Created * 1000).utc().utcOffset(currTimeZoneValue).format('YYYY-MM-DD HH:mm:ss');
            //                 }},
            //             {
            //                 field: 'Updated', title: '更新时间',align:"center",width:175, templet: function (d) {
            //                     // return util.toDateString(d.Updated* 1000);
            //                     return moment(d.Updated * 1000).utc().utcOffset(currTimeZoneValue).format('YYYY-MM-DD HH:mm:ss');
            //                 }, sort: true
            //             },
            //             {title: '操作', width:180, templet:'#orderListBar',fixed:"right",align:"center"}
            //         ]]
            //     return col;
            // }
            //
            // //layuitable reload或第一次加载的时候，根据存储的local_config 确定哪些列是否选中
            // function tableSetCol(col, key){
            //     let colArr = col[0]
            //     var config_custom= layui.data(key);
            //     var local_config = config_custom['local_config'] || {};
            //     if(JSON.stringify(local_config) != '{}'){
            //         for(var i =0; i<=colArr.length-1; i++){
            //             if( typeof colArr[i].field !== "undefined" ){
            //                 colArr[i].hide = local_config[colArr[i].field];
            //             }
            //         }
            //     }
            //     return [colArr];
            // }
            //
            //
            // //添加银行
            // $("#addGropeTask").click(function () {
            //
            //     var index = layui.layer.open({
            //         area: ['500px', '500px'],
            //         fixed: false, //不固定
            //         maxmin: false,
            //         title : "添加银行卡",
            //         skin: 'layui-layer-rim',//加上边框
            //         type : 2,
            //         content : "bank_card_add.html",
            //         success : function(layero, index){
            //             var body = layui.layer.getChildFrame('body', index);
            //
            //         },
            //         end : function() {//弹窗关闭后的回调函数
            //             //利用laypage实现局部刷新,以下两种方式都可以
            //             // $(".layui-laypage-btn").click()
            //             //直接刷新当前修改的行
            //             $(".layui-laypage-btn")[0].click()
            //
            //         }
            //     })
            //     // window.sessionStorage.setItem("index",index);
            //     // //改变窗口大小时，重置弹窗的宽高，防止超出可视区域（如F12调出debug的操作）
            //     // $(window).on("resize",function(){
            //     //     layui.layer.full(window.sessionStorage.getItem("index"));
            //     // })
            //
            //
            //     return false
            // })
            //
            // /* 表格搜索 */
            // var currTempObj;
            // var bet_tb_this;
            // form.on('submit(userTbSearch)', function (data) {
            //
            //     // console.log("currTempObj",data.field.username)
            //     // insTb.reload({where: data.field, page: {curr: 1}});
            //     currTempObj = {}
            //     currTempObj.kinds = 1
            //     // currTempObj.token = $.cookie('tokenMyb');
            //
            //     if(data.field.status === "999"){
            //
            //
            //     }else{
            //         currTempObj.status = data.field.status
            //     }
            //
            //
            //     if(data.field.callback === "777"){
            //
            //
            //     }else{
            //         currTempObj.callback = data.field.callback
            //     }
            //
            //
            //     var todayStartTime = new Date(new Date().toLocaleDateString()).getTime()/1000 + 1
            //     var todayEndTime = new Date(new Date().toLocaleDateString()).getTime()/1000 + 24 * 60 * 60  - 1
            //
            //     if(data.field.startDate == '' && data.field.endDate == '' ){
            //
            //         // currTempObj.start = todayStartTime
            //         // currTempObj.end = todayEndTime
            //
            //     }else if(data.field.startDate != '' && data.field.endDate != '' ){
            //
            //         var date_str_start = new Date(data.field.startDate)
            //         currTempObj.start = Date.parse(date_str_start) / 1000
            //
            //         var date_str_end = new Date(data.field.endDate)
            //         currTempObj.end = Date.parse(date_str_end) / 1000
            //
            //     }else{
            //
            //         if(data.field.startDate == "" && data.field.endDate != ""){
            //
            //             currTempObj.start = 0
            //             var date_str_end = new Date(data.field.endDate)
            //             currTempObj.end = Date.parse(date_str_end) / 1000
            //
            //         }else if(data.field.startDate != "" && data.field.endDate == ""){
            //
            //             var date_str_start = new Date(data.field.startDate)
            //             currTempObj.start = Date.parse(date_str_start) / 1000
            //             currTempObj.end = todayEndTime
            //         }
            //
            //
            //     }
            //
            //
            //     //2.6.0之前清除保留之前的数据的最有用的方式
            //     if (bet_tb_this != null) {
            //         // console.log("book_tb_this--不为null",bet_tb_this)
            //         bet_tb_this.where = {};  //置空where
            //     }
            //     insTb.reload({
            //         where: currTempObj,
            //         page: {curr: 1},
            //         done:function(){
            //             bet_tb_this = this;
            //             // console.log("book_tb_this----重载后的值",bet_tb_this)
            //         }
            //     },false);
            //
            //
            //     return false;
            // });
            //
            //
            // //监听单元格编辑
            // table.on('edit(userTable)', function(obj){
            //     var value = obj.value //得到修改后的值
            //         ,data = obj.data //得到所在行所有键值
            //         ,field = obj.field; //得到字段
            //
            //     var param = {};
            //     param['id'] = data.ID;
            //     param['bank_information_id'] = data.BankInformationId;
            //
            //     if(field === "CardNum"){
            //         param['card_number'] =util.escape(value);
            //     }
            //     if(field === "Name"){
            //         param['name'] =util.escape(value);
            //     }
            //
            //     if(field === "Remark"){
            //         param['remark'] =util.escape(value);
            //     }
            //     if(field === "IFSC"){
            //         param['IFSC'] =util.escape(value);
            //     }
            //
            //
            //     // layer.msg('[ID: '+ data.id +'] ' + field + ' 字段更改值为：'+ util.escape(value));
            //
            //     $.ajax({
            //         url: global_requestAddress+global_requestAddress_js_bank+"?action=update",
            //         data: param,
            //         headers:{
            //           token:mybck
            //         },
            //         type: "POST",
            //         dataType: "json",
            //         success: function (addResult) {
            //
            //             if (addResult.code === 200) {
            //                 notice.msg(addResult.msg, {icon: 1});
            //             } else {
            //                 // layer.msg(addResult.msg);
            //                 notice.msg(addResult.msg, {icon: 2});
            //             }
            //
            //
            //         },
            //
            //     });
            // });
            //
            // //下拉框选择事件
            // form.on("select(templetBankSel)",function(data){
            //     //获取当前行tr对象
            //     var elem = data.othis.parents('tr');
            //     //第一列的值是Guid，取guid来判断
            //     var Guid= elem.first().find('td').eq(0).text();
            //     //选择的select对象值；
            //     var selectValue = data.value;
            //     // console.log("data",Guid)
            //
            //     var param = {};
            //     param['id'] = Guid;
            //     param['bank_information_id'] =selectValue;
            //
            //     $.ajax({
            //         url: global_requestAddress+global_requestAddress_js_bank+"?action=update",
            //         data: param,
            //         headers:{
            //             token:mybck
            //         },
            //         type: "POST",
            //         dataType: "json",
            //         success: function (addResult) {
            //
            //             if (addResult.code === 200) {
            //                 notice.msg(addResult.msg, {icon: 1});
            //
            //             } else {
            //                 // layer.msg(addResult.msg);
            //                 notice.msg(addResult.msg, {icon: 2});
            //             }
            //
            //
            //         },
            //
            //
            //     });
            //
            // })
            //
            //
            // //监听开启开关按钮操作
            // form.on('switch(table_status)', function(obj){
            //
            //     // console.log("obj",obj)
            //
            //     // 获取当前控件
            //     var selectIfKey=obj.othis;
            //     // 获取当前所在行
            //     var parentTr = selectIfKey.parents("tr");
            //     // 获取当前所在行的索引
            //     // var parentTrIndex = parentTr.attr("data-index");
            //
            //     //通过相对位置找对应行数据
            //     // 获取当前行第一和三列的值
            //     var currentwx_id = parentTr.find(('td:eq(0)')).text().trim();
            //     console.log("currentwx_id",currentwx_id)
            //
            //
            //     var currStatusBool = obj.elem.checked;
            //     // console.log("currStatusBool",currStatusBool)
            //     var messageTitle = '';
            //     var currStatusNum = 0;
            //     if(currStatusBool){  //currStatusBool true
            //         messageTitle = '系统将对该数据进行开启操作,确定对当前用户进行开启操作吗?'
            //     }else{ //false
            //
            //         messageTitle = '系统将对该数据进行关闭操作,确定对当前用户进行关闭操作吗?'
            //
            //     }
            //
            //     //弹窗组件
            //     layer.open({
            //         // type: 2,
            //         area: ['450px', '195px'],
            //         fix: false,
            //         //不固定
            //         maxmin: true,
            //         shade: 0.3,
            //         skin: 'layui-layer-rim',//加上边框
            //         title: "温馨提示",
            //         content:messageTitle,
            //         // content: `<div>`+messageTitle+`</div>`,
            //         btn: ['确定','取消'],
            //         // // 弹层外区域关闭
            //         shadeClose: true,
            //         btn1: function(index, layero) {//确定事件
            //             //点击第一个按钮处理逻辑
            //             // layer.msg("1");
            //             if(currStatusBool){
            //                 currStatusNum = 1
            //             }else{
            //                 currStatusNum = 2
            //             }
            //
            //             //进行ajax请求
            //             var param={};
            //             param.status = currStatusNum
            //             param.id = currentwx_id
            //
            //             $.ajax({
            //                 url: global_requestAddress+aaaaaaaaaaaaa+"?action=update",
            //                 method:'POST',
            //                 data:param,
            //                 dataType:"json",
            //                 headers:{
            //                     token:mybck,
            //                 },
            //                 success:function (res) {
            //                     if(res.code === 200){  //
            //                         notice.msg(res.msg, {icon: 1});
            //                         //列表的刷新
            //                         insTb.reload();
            //                         //关闭第一个弹窗的组件ID
            //                         layer.close(index);
            //                     }else{
            //                         notice.msg(res.msg, {icon: 2});
            //                         insTb.reload();
            //                         layer.close(index);
            //                     }
            //                 }
            //             })
            //
            //
            //
            //
            //         },
            //         btn2: function(index, layero){//取消事件
            //             //点击第二个按钮处理逻辑
            //             // layer.msg("2");
            //
            //             notice.msg("取消操作", {icon: 5});
            //             // $.message({
            //             //     message: "取消操作",
            //             //     type: 'info',
            //             //     showClose: true
            //             // });
            //
            //             var x = obj.elem.checked;
            //
            //             obj.elem.checked = !x;
            //             form.render();
            //             layer.close(index);
            //         },
            //         cancel: function(index, layero){//取消事件
            //             //点击第二个按钮处理逻辑
            //             // layer.msg("2");
            //             notice.msg("取消操作", {icon: 5});
            //             var x = obj.elem.checked;
            //             obj.elem.checked = !x;
            //             form.render();
            //             layer.close(index);
            //         }
            //     })
            //
            //
            //
            //
            //
            // });
            //
            // /* 表格工具条点击事件 */
            // table.on('tool(userTable)', function (obj) {
            //     var currDatas  = obj.data;
            //     if (obj.event === 'callbacksuccess') { // 修改
            //         // showEditModel(obj.data);
            //
            //         layer.confirm('确定要回调成功当前数据吗？', {
            //             skin: 'layui-layer-admin',
            //             shade: .1
            //         }, function (i) {
            //             layer.close(i);
            //             var loadIndex = layer.load(2);
            //
            //             var param = {};
            //             param['id'] = currDatas.ID;
            //
            //             $.ajax({
            //                 url: global_requestAddress+global_requestAddress_js_collection+"?action=callback",
            //                 data: param,
            //                 headers:{
            //                     token:mybck
            //                 },
            //                 type: "POST",
            //                 dataType: "json",
            //                 success: function (addResult) {
            //                     layer.close(loadIndex);
            //                     if (addResult.code === 200) {
            //                         notice.msg(addResult.msg, {icon: 1});
            //                         insTb.reload({page: {curr: 1}});
            //                     } else {
            //                         notice.msg(addResult.msg, {icon: 2});
            //                     }
            //
            //                 },
            //
            //
            //             });
            //
            //         });
            //
            //
            //     }else if(obj.event === 'deleteBtn'){ //删除
            //
            //         // jsondata = JSON.stringify(currDatas)
            //         // var index = layui.layer.open({
            //         //     area: ['1200px', '500px'],
            //         //     fixed: false, //不固定
            //         //     maxmin: false,
            //         //     title : "银行列表",
            //         //     skin: 'layui-layer-rim',//加上边框
            //         //     type : 2,
            //         //     content : "bank_lists.html",
            //         //     success : function(layero, index){
            //         //         var body = layui.layer.getChildFrame('body', index);
            //         //         if(currDatas) {
            //         //
            //         //         }
            //         //     },
            //         //     end : function() {//弹窗关闭后的回调函数
            //         //         //利用laypage实现局部刷新,以下两种方式都可以
            //         //         // $(".layui-laypage-btn").click()
            //         //         //直接刷新当前修改的行
            //         //         $(".layui-laypage-btn")[0].click()
            //         //
            //         //     }
            //         // })
            //         // window.sessionStorage.setItem("index",index);
            //         // //改变窗口大小时，重置弹窗的宽高，防止超出可视区域（如F12调出debug的操作）
            //         // $(window).on("resize",function(){
            //         //     layui.layer.full(window.sessionStorage.getItem("index"));
            //         // })
            //
            //     }
            // });
            //



        });

    }



</script>
</body>
</html>
