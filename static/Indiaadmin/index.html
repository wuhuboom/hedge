<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="assets/images/favicon.ico" rel="icon">
    <title>OGPay Management</title>
    <link rel="stylesheet" href="assets/libs/layui/css/layui.css"/>
    <link rel="stylesheet" href="assets/module/admin.css?v=318"/>
    <link rel="stylesheet" href="assets/layui-icon-extend/iconfont.css">


    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
    <!-- 头部 -->
    <div class="layui-header">
        <div class="layui-logo">
            <img src="assets/images/logo.png"/>
            <cite>OGPay后台管理</cite>
        </div>
        <ul class="layui-nav layui-layout-left">
            <li class="layui-nav-item" lay-unselect>
                <a ew-event="flexible" title="侧边伸缩"><i class="layui-icon layui-icon-shrink-right"></i></a>
            </li>
            <li class="layui-nav-item" lay-unselect>
                <a ew-event="refresh" title="刷新"><i class="layui-icon layui-icon-refresh-3"></i></a>
            </li>
        </ul>
        <ul class="layui-nav layui-layout-right">
<!--            <li class="layui-nav-item" lay-unselect>-->
<!--                <a ew-event="message" title="消息">-->
<!--                    <i class="layui-icon layui-icon-notice"></i>-->
<!--                    <span class="layui-badge-dot"></span>-->
<!--                </a>-->
<!--            </li>-->
<!--            <li class="layui-nav-item" lay-unselect>-->
<!--                <a ew-event="note" title="便签"><i class="layui-icon layui-icon-note"></i></a>-->
<!--            </li>-->
<!--            <li class="layui-nav-item layui-hide-xs" lay-unselect>-->
<!--                <a ew-event="fullScreen" title="全屏"><i class="layui-icon layui-icon-screen-full"></i></a>-->
<!--            </li>-->
<!--            <li class="layui-nav-item layui-hide-xs" lay-unselect>-->
<!--                <a ew-event="lockScreen" title="锁屏"><i class="layui-icon layui-icon-password"></i></a>-->
<!--            </li>-->
            <li class="layui-nav-item layui-hide-xs">
                <a ><span id="timeStrZome"></span></a>
            </li>
            <li class="layui-nav-item" lay-unselect>
                <a>
                    <img src="assets/images/head.jpg" class="layui-nav-img">
                    <cite id="loadingUserName">loading</cite>
                </a>
                <dl class="layui-nav-child">
                    <dd lay-unselect><a ew-href="page/template/user-info.html">个人中心</a></dd>
                    <dd lay-unselect><a ew-event="psw">修改密码</a></dd>
                    <hr>
                    <dd lay-unselect><a ew-event="logout" data-url="./login.html">退出</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item" lay-unselect>
                <a ew-event="theme123213" title=""><i class="layui-icon layui-icon-more-vertical"></i></a>
            </li>
        </ul>
    </div>

    <!-- 侧边栏 -->
    <div class="layui-side">
        <div class="layui-side-scroll">
<!--            lay-shrink="_all"-->
            <ul class="layui-nav layui-nav-tree arrow2" lay-filter="admin-side-nav" >

                <li class="layui-nav-item">
                    <a lay-href="page/console/console.html"><i class="layui-icon layui-icon-home"></i>&emsp;<cite>首页</cite></a>
                </li>

                <li class="layui-nav-item">
                    <a><i class="layui-icon layui-icon-username"></i>&emsp;<cite>代理管理</cite></a>
                    <dl class="layui-nav-child">
                        <dd><a lay-href="page/agent/agent.html">代理列表</a></dd>
                    </dl>
                </li>

                <li class="layui-nav-item">
                    <a><i class="layui-icon layui-icon-username"></i>&emsp;<cite>商户管理</cite></a>
                    <dl class="layui-nav-child">
                        <dd><a lay-href="page/merchant/merchant.html">商户号列表</a></dd>
                    </dl>
                </li>

                <li class="layui-nav-item">
                    <a><i class="layui-icon layui-icon-note"></i>&emsp;<cite>通道管理</cite></a>
                    <dl class="layui-nav-child">
                        <dd><a lay-href="page/channel/channel.html">代收通道</a></dd>
                        <dd><a lay-href="page/channel/PaymentChannel.html">代付通道</a></dd>
                    </dl>
                </li>

                <li class="layui-nav-item">
                    <a><i class="layui-icon layui-icon-windows"></i>&emsp;<cite>银行管理</cite></a>
                    <dl class="layui-nav-child">
                        <dd><a lay-href="page/channel/bank.html">银行信息</a></dd>
                        <dd><a lay-href="page/channel/bank_card.html">银行卡信息</a></dd>
                    </dl>
                </li>

                <li class="layui-nav-item">
                    <a><i class="layui-icon layui-icon-key"></i>&emsp;<cite>订单管理</cite></a>
                    <dl class="layui-nav-child">
                        <dd><a lay-href="page/order/pay_order_list.html">代收订单</a></dd>
                        <dd><a lay-href="page/order/paid_order_list.html">代付订单</a></dd>
                    </dl>
                </li>

                <li class="layui-nav-item">
                    <a><i class="layui-icon layui-icon-transfer"></i>&emsp;<cite>提现管理</cite></a>
                    <dl class="layui-nav-child">
                        <dd><a lay-href="page/withdraw/withdraw_list.html">提现列表</a></dd>
                    </dl>
                </li>

                <!--                <li class="layui-nav-item">-->
<!--                    <a><i class="layui-icon layui-icon-app"></i>&emsp;<cite>支付管理</cite></a>-->
<!--                    <dl class="layui-nav-child">-->
<!--                        <dd><a lay-href="page/paying/paying_order.html">支付订单</a></dd>-->
<!--                    </dl>-->
<!--                </li>-->

                <li class="layui-nav-item">
                    <a><i class="layui-icon">&#xe620;</i>&emsp;<cite>系统管理</cite></a>
                    <dl class="layui-nav-child">
                        <dd><a lay-href="page/system/systemParameter.html">系统设置</a></dd>
                        <dd><a lay-href="page/system/GatewayProxy.html">网关代理</a></dd>
                    </dl>

                </li>



            </ul>
        </div>
    </div>

    <!-- 主体部分 -->
    <div class="layui-body"></div>
    <!-- 底部 -->
    <div class="layui-footer layui-text">
        copyright © 2021 <a href="#" target="_blank">Indiaadmin</a> all rights reserved.
        <span class="pull-right">Version 1.0.0</span>
    </div>
</div>

<!-- 加载动画 -->
<div class="page-loading">
    <div class="ball-loader">
        <span></span><span></span><span></span><span></span>
    </div>
</div>

<!-- js部分 -->
<script type="text/javascript" src="./assets/libs/layui/layui.js"></script>
<script type="text/javascript" src="./assets/js/common.js?v=318"></script>

<script type="text/javascript" src="./assets/js/jquery.min.js"></script>
<script type="text/javascript" src="./assets/js/jquery.cookie.min.js"></script>
<script type="text/javascript" src="./assets/js/config.url.js"></script>

<script id="sideNav" type="text/html">
    {{#  layui.each(d, function(index, item){ }}
    <li class="layui-nav-item">
        <a lay-href="{{item.url}}"><i class="{{item.icon}}"></i>&emsp;<cite>{{ item.name }}</cite></a>
        {{# if(item.subMenus&&item.subMenus.length>0){ getSubMenus(item.subMenus); } }}
    </li>
    {{#  }); }}
    {{# function getSubMenus(subMenus){ }}
    <dl class="layui-nav-child">
        {{# layui.each(subMenus, function(index, subItem){ }}
        <dd>
            <a lay-href="{{ subItem.url }}"><i class="{{subItem.icon}}"></i>&emsp;<cite>{{ subItem.name }}</cite></a>
            {{# if(subItem.subMenus&&subItem.subMenus.length>0){ getSubMenus(subItem.subMenus); } }}
        </dd>
        {{# }); }}
    </dl>
    {{# } }}
</script>

<script>

    // localStorage.removeItem("easyweb-iframe")
    // // "tabAutoRefresh":false,
    // var localJSON = JSON.stringify({"defaultTheme":"theme-colorful"})
    // localStorage.setItem("easyweb-iframe",localJSON);

    // cacheTab: true
    // closeFooter: false
    // defaultTheme: "theme-colorful"
    // tabAutoRefresh: true

    layui.use(['index','admin','element','laytpl'], function () {
        var $ = layui.jquery;
        var index = layui.index;
        var admin = layui.admin;
        var element = layui.element;
        var laytpl = layui.laytpl;


        // 默认加载主页
        index.loadHome({
            menuPath: 'page/console/console.html',
            menuName: '<i class="layui-icon layui-icon-home"></i>'
        });

        let loadU = localStorage.getItem('dq_AdminUsername')
        $("#loadingUserName").text(loadU)

        // //获取配置数据
        // $.ajax({
        //     url: global_requestAddress + global_requestAddress_js_systemParameter+"?action=select",
        //     headers:{
        //         token:$.cookie('tokenMyb')
        //     },
        //     dataType: 'json',
        //     type: 'post',
        //     data: {},
        //     success: function (dataArray) {
        //         if (dataArray.code != 2000) {
        //             return false;
        //         }
        //         var returnDataArray = dataArray.result
        //         currTimeZoneNameStr = returnDataArray.TimeZone
        //         $("#timeStrZome").text(currTimeZoneNameStr)
        //     }
        // })


        admin.putSetting('tabAutoRefresh', true);

        // // 默认加载主页,如果静态的时候就得放前边
        // index.loadHome({
        //     menuPath: 'page/console/console.html',
        //     menuName: '<i class="layui-icon layui-icon-home"></i>'
        // });


       //  // console.log("navArray",typeof navArray)
       //
       //  let menuListStr =  localStorage.getItem('menuList')
       //  let menuListArr = JSON.parse(menuListStr)
       //  // console.log("menuListArr",menuListArr)
       //
       //
       //
       // //方式1 ------ 头
       //  let menuArray = []
       //  menuListArr.forEach((item)=>{
       //      if (item.Second) {
       //          let secondArr = []
       //          let itemIsCheck = 0
       //          item.Second.forEach((itemS)=>{
       //              // console.log("itemS",itemS)
       //              if(itemS.Add === 0 && itemS.Delete === 0 && itemS.Read === 0 && itemS.Update === 0){
       //                  itemIsCheck = itemIsCheck + 1
       //              }else{
       //                  itemS.href = 'page/'+itemS.RouterPath+".html"
       //                  itemS.name = itemS.Name
       //                  itemS.url = 'page/'+itemS.RouterPath+".html"
       //
       //                  secondArr.push({
       //                      "href":'page/'+itemS.RouterPath+".html",
       //                      "name" : itemS.Name,
       //                      "url" :'page/'+itemS.RouterPath+".html",
       //                      "icon":itemS.icon
       //                  })
       //              }
       //          })
       //
       //
       //          if(itemIsCheck ===   item.Second.length){
       //              // console.log("111")
       //              // item.checkIsNum = itemIsCheck
       //          }else{
       //
       //              menuArray.push({
       //                  "subMenus" :secondArr,
       //                  "name" : item.Name,
       //                  "url" :  "javascript:;",
       //                  "icon":item.icon
       //              })
       //
       //              item.name = item.Name
       //              item.subMenus = secondArr
       //              item.url = "javascript:;"
       //          }
       //
       //          // console.log("secondArr",secondArr)
       //
       //          // item.icon =  "iconfont icon-xitong6"
       //      }else{
       //          item.href = 'page/console/console.html'
       //          item.name = item.Name
       //          item.url = 'page/console/console.html'
       //          // item.icon =  "layui-icon layui-icon-home"
       //
       //          menuArray.push({
       //              "href" : 'page/console/console.html',
       //              "name" : item.Name,
       //              "url" : 'page/console/console.html',
       //              "icon":item.icon
       //          })
       //      }
       //
       //  })
       //  // console.log("menuListArr",menuListArr)
       //  // console.log("menuArray",menuArray)
       //  laytpl(sideNav.innerHTML).render(menuArray, function (html) {
       //      $('[lay-filter=admin-side-nav]').html(html);
       //      element.render('nav', 'admin-side-nav');  // 这里非常重要
       //
       //      // 默认加载主页
       //      index.loadHome({
       //          menuPath: 'page/console/console.html',
       //          menuName: '<i class="layui-icon layui-icon-home"></i>'
       //      });
       //
       //  });
       //  //方式1 ------ 尾巴
       //




        // // 方式二 ------ 头
        // menuListArr.forEach((item)=>{
        //     if (item.Second) {
        //
        //         item.Second.forEach((itemS)=>{
        //             // console.log("itemS",itemS)
        //             itemS.href = 'page/'+itemS.RouterPath+".html"
        //         })
        //     }else{
        //         item.href = 'page/console/console.html'
        //     }
        //
        // })
        //

        //
        // let navArray = []
        // $.each(menuListArr,function(i,obj){
        //     // console.log(obj);
        //     // console.log(obj.children);
        //     var content='<li class="layui-nav-item" data-name='+obj.action+'>';
        //     //判断是否存在下一级栏目，存在就不跳转，不存在就跳转
        //     if (!obj.Second) {
        //         // console.log("进来-无节点",obj.href)
        //         // content+='<a href="'+'/'+obj.app+'/'+obj.controller+'/'+obj.action+'"><i class="layui-icon '+obj.icon+'"></i><cite>'+obj.name+'</cite></a>';
        //         content+='<a lay-href="'+obj.href+'"><i class="layui-icon '+obj.icon+'"></i>&emsp;<cite>'+obj.Name+'</cite></a>';
        //     }else{
        //
        //         // console.log("进来-有节点",obj.children) href="javascript:;"
        //         content+='<a ><i class="layui-icon '+obj.icon+'"></i>&emsp;<cite>'+obj.Name+'</cite></a>';
        //     }
        //
        //     //这里是添加所有的子菜单
        //     content+=loadchild(obj);
        //     content+='</li>';
        //     // console.log("content",content)
        //     $(".layui-nav-tree").append(content);
        // })
        //
        //
        // element.init();
        //
        // //组装子菜单的方法
        // function loadchild(obj){
        //     if(obj==null){
        //         return;
        //     }
        //     var content='';
        //     if(obj.Second!=null && obj.Second.length>0){
        //         content+='<dl class="layui-nav-child">';
        //     }else{
        //         content+='<dl>';
        //     }
        //
        //     if(obj.Second!=null && obj.Second.length>0){
        //         $.each(obj.Second,function(i,note){
        //             // console.log("note",note.Add)
        //             if(note.Add && note.Delete && note.Read && note.Update){
        //                 content+='<dd>';
        //                 // content+='<a href="'+'/'+note.app+'/'+note.controller+'/'+note.action+'">'+note.name+'</a>';
        //                 content+='<a lay-href="'+note.href+'">'+note.Name+'</a>';
        //             }
        //             if(note.Second==null){
        //                 return;
        //             }
        //             content+=loadchild(note);
        //             content+='</dd>';
        //         });
        //
        //         content+='</dl>';
        //     }
        //     return content;
        // }
        //
        //  // 默认加载主页
        //  index.loadHome({
        //      menuPath: 'page/console/console.html',
        //      menuName: '<i class="layui-icon layui-icon-home"></i>'
        //  });
        //
        //
        // // 方式二 ------ 尾

    });
</script>
</body>
</html>
